(this["webpackJsonpgmk-price-tracker"]=this["webpackJsonpgmk-price-tracker"]||[]).push([[0],{207:function(e,t,A){},275:function(e,t,A){},276:function(e,t,A){var n={"./8008.jpeg":277,"./9009.jpg":278,"./botanical.png":279,"./cafe.jpg":280,"./laser.png":281,"./nautilus.jpg":282,"./no_image.jpg":283,"./oblivion.png":284,"./olivia.png":285};function a(e){var t=r(e);return A(t)}function r(e){if(!A.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=276},277:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/8008.c11ccbe1.jpeg"},278:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/9009.b7547f0a.jpg"},279:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/botanical.2c7709b5.png"},280:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/cafe.a3f27752.jpg"},281:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/laser.97efb1f4.png"},282:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/nautilus.08271514.jpg"},283:function(e,t,A){"use strict";A.r(t),t.default="data:image/jpeg;base64,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"},284:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/oblivion.9e9de0f9.png"},285:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/olivia.4504af11.png"},430:function(e,t,A){"use strict";A.r(t);var n=A(0),a=A.n(n),r=A(66),c=A.n(r),i=(A(275),A(16)),s=A(17),o=A(24),l=A(25),d=A(98),u=A(46),j=(A(207),A(7));var b=function(e){var t={};return e.keys().forEach((function(A){t[A.replace("./","").replace(/\.[^/.]+$/,"")]=e(A)})),t}(A(276)),p=A(200);p.a.initializeApp({apiKey:"AIzaSyAcBmvPhJ0uJjEyeTZRiGC_fsTF8GDCRSA",authDomain:"mm-tracker-760cf.firebaseapp.com",projectId:"mm-tracker-760cf",storageBucket:"mm-tracker-760cf.appspot.com",messagingSenderId:"692582051190",appId:"1:692582051190:web:0d71918a4278a62657de57"});var f=p.a.firestore();f.enablePersistence().catch((function(e){console.error(e)}));var h=f,g=A(440),O=A(433),x=A(442),m=A(443),v=A(13),y=g.a.Meta,k=O.a.Content,D=O.a.Footer;var w=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),A=t[0],a=t[1];return Object(n.useEffect)((function(){var e=[];h.collection("gmk").orderBy("count","desc").limit(8).get().then((function(t){t.forEach((function(t){e.push([t.id,t.data().count])})),a(e)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)(k,{children:[Object(v.jsx)("div",{className:"graph",style:{padding:10,paddingTop:20},children:Object(v.jsx)("p",{className:"section-header",style:{margin:0},children:"Popular Sets"})}),Object(v.jsx)("div",{className:"site-card-wrapper",style:{margin:20},children:Object(v.jsx)(x.a,{gutter:16,children:A.map((function(e){var t=Object(j.a)(e,2),A=t[0],n=t[1],a=A.split(" ")[1];return Object(v.jsx)(m.a,{span:6,style:{padding:10,paddingTop:0,paddingBottom:20},children:Object(v.jsx)(d.b,{to:"/products/"+a+"/",children:Object(v.jsx)(g.a,{hoverable:!0,cover:Object(v.jsx)("img",{alt:"example",src:a in b?b[a].default:b.no_image.default}),children:Object(v.jsx)(y,{title:"GMK "+a.charAt(0).toUpperCase()+a.slice(1),description:"Sales: "+n})})},A)},A)}))})})]}),Object(v.jsxs)(D,{style:{textAlign:"center"},children:["Created by ",Object(v.jsx)("a",{href:"https://www.aaryan.dev",children:"Aaryan Agrawal"}),", ",Object(v.jsx)("a",{href:"https://github.com/DanielLiCodes",children:"Daniel Li"}),", and ",Object(v.jsx)("a",{href:"https://github.com/wesleyliu728",children:"Wesley Liu"})]})]})},S=A(434),M=A(438),E=A(258),q=A(259),K=A(149),N=A(144),B=A(264),F=A(252),R=A(91),I=A(439),P=A(243),U=[{title:"Category",dataIndex:"category",sorter:function(e,t){return e.category<t.category?-1:1},sortDirections:["ascend","descend","ascend"],filters:[{text:"Base",value:"base"},{text:"Bundle",value:"bundle"},{text:"Single",value:"single"},{text:"Other",value:"other"}],onFilter:function(e,t){return e===t.category}},{title:"Price (USD)",dataIndex:"price",sorter:function(e,t){return e.price-t.price},sortDirections:["ascend","descend","ascend"]},{title:"Link",dataIndex:"link",sorter:function(e,t){return e.link<t.link?-1:1},sortDirections:["ascend","descend","ascend"],render:function(e,t){return Object(v.jsx)("a",{href:"https://www.reddit.com"+t.linkFull,target:"_blank",rel:"noopener noreferrer",children:e})}},{title:"Date",dataIndex:"date",sorter:function(e,t){return e.date<t.date?-1:1},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend",render:function(e){return e.toString()}},{title:"Sets",dataIndex:"sets",sorter:function(e,t){return e.sets<t.sets?-1:1},sortDirections:["ascend","descend","ascend"]}],V=A.p+"static/media/thinking.955ba4dc.png",C=["base","bundle","single","other"],z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T=[2020,1],H=[2021,12],L=new Date(T[0],T[1]-1,1,0,0,0,0),G=new Date(H[0],H[1]-1,1,0,0,0,0);function W(e){var t=new Date(e);return z[t.getMonth()]+" "+t.getFullYear()}function X(e){var t=Object(n.useState)(["not mounted"]),A=Object(j.a)(t,2),a=A[0],r=A[1];Object(n.useEffect)((function(){var t=[];h.collection("gmk").get().then((function(A){A.forEach((function(e){t.push(e.id)}));var n=new P.a(t,{includeScore:!0,threshold:.3}).search(e.data.productID),a=[];n.forEach((function(e){var t=e.item.split(" ")[1];t&&a.push(t)})),r(a.slice(0,10))}))}),[e.data.productID]);var c=e.data.productID,i=[];return 0===a.length?i.push(Object(v.jsx)("p",{style:{fontSize:20},children:"No similarly named sets were found."},"none")):"not mounted"!==a[0]&&(i.push(Object(v.jsx)("p",{style:{fontSize:20},children:"Did you mean one of the following?"},"meant")),a.forEach((function(e){i.push(Object(v.jsx)(d.b,{to:"/products/"+e+"/",children:Object(v.jsxs)("p",{style:{fontSize:20,margin:0},children:["GMK ",e.charAt(0).toUpperCase()+e.slice(1)]})},e))}))),Object(v.jsxs)("div",{className:"graph",style:{padding:20},children:[Object(v.jsx)("img",{src:V,alt:"thinking emote",style:{padding:20}}),Object(v.jsxs)("p",{style:{margin:0,fontSize:20},children:["No data was found for for ",Object(v.jsxs)("span",{style:{fontWeight:"bold"},children:[" GMK ",c.charAt(0).toUpperCase()+c.slice(1)]})]}),i]})}function Z(){var e=Object(u.h)().productID;"gmk"===(e=e.toLowerCase()).split(" ")[0]&&(e=e.split(" ")[1]),e.split(" ").length>1&&(e=e.split(" ")[0]);var t=function(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){e.current=!1}),[]),e.current}(),A="gmk "+e,a=Object(n.useState)([]),r=Object(j.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)([]),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(n.useState)({start:L,end:G}),p=Object(j.a)(b,2),f=p[0],g=p[1],O=Object(n.useState)([].concat(C)),x=Object(j.a)(O,2),m=(x[0],x[1]),y=Object(n.useState)(""),k=Object(j.a)(y,2),D=k[0],w=k[1],P=Object(n.useState)(""),V=Object(j.a)(P,2),z=V[0],Z=V[1],J=Object(n.useState)(L),Q=Object(j.a)(J,2),Y=Q[0],_=Q[1],$=Object(n.useState)(G),ee=Object(j.a)($,2),te=ee[0],Ae=ee[1];return Object(n.useEffect)((function(){h.collection("gmk").doc(A).collection("sales").orderBy("date").get().then((function(e){for(var t={},A=T[0];A<=H[0];A++)for(var n=1;n<=12;n++)A===T[0]&&n<T[1]||A===H[0]&&n>H[1]||(t[[A,n]]={base:[0,0],bundle:[0,0],single:[0,0],other:[0,0]});var a=[];e.forEach((function(e){var A=e.data(),n=A.date.toDate(),r=[n.getFullYear(),n.getMonth()+1];a.push({key:e.id,category:A.category,price:A.price,linkFull:A.link,link:A.link.split("/").slice(-2),date:n,sets:A.sets.join(", ")}),t[r][A.category][0]+=A.price,t[r][A.category][1]++}));var r=[];for(var c in t){var s=c.split(","),o=Object(j.a)(s,2),l=o[0],u=o[1],b={epoch:new Date(l,u-1,1,0,0,0,0).getTime()},p=t[c];for(var f in p){var h=p[f],g=h[0]/h[1];isNaN(g)||(b[f]=Math.round(g),b[f+"_q"]=h[1])}r.push(b)}i(a),d(r)}))}),[A]),t?null:0===c.length?Object(v.jsx)(X,{data:{productID:e}}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"graph",children:[Object(v.jsxs)("p",{style:{padding:20,margin:0,fontSize:20},children:["Showing results for ",Object(v.jsxs)("span",{style:{fontWeight:"bold"},children:[" GMK ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),Object(v.jsxs)(S.a,{width:900,height:400,data:l,onClick:function(e,t){null!==e&&"recharts-dot"!==t.target.className.baseVal&&m([].concat(C))},onMouseDown:function(e){null!==e&&w(e.activeLabel)},onMouseMove:function(e){null!==e&&D&&Z(e.activeLabel)},onMouseUp:function(){return function(){var e=D,t=z;if(e!==t&&""!==t){if(e>t){var A=[t,e];e=A[0],t=A[1]}var n=new Date(t);n.setMonth(n.getMonth()+1),_(e),Ae(t),w(""),Z(""),g({start:e,end:n})}else if(w(""),Z(""),""!==e){var a=new Date(e);a.setMonth(a.getMonth()+1),g({start:e,end:a})}}()},children:[Object(v.jsx)(M.a,{strokeDasharray:"3 3"}),Object(v.jsx)(E.a,{dataKey:"epoch",type:"number",scale:"time",padding:{left:25,right:25},interval:0,angle:30,tickMargin:15,height:50,domain:[Y,te],allowDataOverflow:!0,tickFormatter:W,style:{userSelect:"none"}}),Object(v.jsx)(q.a,{label:{value:"Price (USD)",angle:-90,position:"insideLeft"},style:{userSelect:"none"}}),Object(v.jsx)(K.a,{labelFormatter:W,formatter:function(e,t,A){return"$".concat(A.payload[A.dataKey],", ").concat(A.payload[A.dataKey+"_q"]," units")}}),Object(v.jsx)(N.a,{}),Object(v.jsx)(B.a,{type:"linear",dataKey:"base",stroke:"#4053d3",activeDot:{onClick:function(e,t){return m([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"bundle",stroke:"#b51d14",activeDot:{onClick:function(e,t){return m([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"single",stroke:"#00b25d",activeDot:{onClick:function(e,t){return m([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"other",stroke:"#00beff",activeDot:{onClick:function(e,t){return m([t.dataKey])}}}),D&&z?Object(v.jsx)(F.a,{x1:D,x2:z,strokeOpacity:.3}):null]})]}),Object(v.jsxs)("div",{style:{margin:40,marginTop:10},children:[Object(v.jsx)(R.a,{style:{marginBottom:20},onClick:function(){g({start:L,end:G}),_(L),Ae(G)},children:"Reset Date Filter"}),Object(v.jsx)(I.a,{columns:U,dataSource:c.filter((function(e){return e.date>=f.start&&e.date<=f.end}))})]})]})}var J=function(){var e=Object(u.i)().path;return Object(v.jsx)("div",{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{exact:!0,path:e,children:Object(v.jsx)(u.a,{to:"/"})}),Object(v.jsx)(u.b,{path:"".concat(e,"/:productID"),children:Object(v.jsx)(Z,{})})]})})},Q=(A(429),A(262).a.Search),Y=O.a.Header;function _(){var e=Object(u.g)();return Object(v.jsx)(Q,{placeholder:"Search GMK prices",onSearch:function(t){e.push("/products/".concat(t))},style:{width:250}})}var $=function(){return Object(v.jsxs)(Y,{className:"nav-bar",children:[Object(v.jsx)(d.b,{to:"/",className:"home-button",children:"GMK Price Tracker"}),Object(v.jsx)(_,{})]})},ee=function(e){Object(o.a)(A,e);var t=Object(l.a)(A);function A(){var e;return Object(i.a)(this,A),(e=t.call(this)).state={},e}return Object(s.a)(A,[{key:"render",value:function(){return Object(v.jsx)(O.a,{className:"layout",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsxs)(u.b,{path:"/products",children:[Object(v.jsx)($,{}),Object(v.jsx)(J,{})]}),Object(v.jsxs)(u.b,{path:"/",children:[Object(v.jsx)($,{}),Object(v.jsx)(w,{})]})]})})})}}]),A}(n.Component),te=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,444)).then((function(t){var A=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;A(e),n(e),a(e),r(e),c(e)}))};c.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(ee,{})}),document.getElementById("root")),te()}},[[430,1,2]]]);
//# sourceMappingURL=main.8d8e25e2.chunk.js.map