(this["webpackJsonpgmk-price-tracker"]=this["webpackJsonpgmk-price-tracker"]||[]).push([[0],{170:function(e,t,A){},240:function(e,t,A){},241:function(e,t,A){var c={"./8008.jpeg":242,"./9009.jpg":243,"./botanical.png":244,"./cafe.jpg":245,"./camping.jpeg":246,"./laser.png":247,"./mizu.png":248,"./nautilus.jpg":249,"./no_image.jpg":250,"./oblivion.png":251,"./olivia.png":252,"./wob.jpg":253};function n(e){var t=a(e);return A(t)}function a(e){if(!A.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=a,e.exports=n,n.id=241},242:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/8008.e56cabe9.jpeg"},243:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/9009.7e5b5d04.jpg"},244:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/botanical.5d721d3d.png"},245:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/cafe.089a7a6e.jpg"},246:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/camping.9b098e2a.jpeg"},247:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/laser.ed3c0e8c.png"},248:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/mizu.eb4bc4b3.png"},249:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/nautilus.4b41381d.jpg"},250:function(e,t,A){"use strict";A.r(t),t.default="data:image/jpeg;base64,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"},251:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/oblivion.4574c499.png"},252:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/olivia.87bda4e2.png"},253:function(e,t,A){"use strict";A.r(t),t.default=A.p+"static/media/wob.6618efec.jpg"},396:function(e,t,A){"use strict";A.r(t);var c=A(0),n=A.n(c),a=A(50),r=A.n(a),i=(A(240),A(16)),s=A(17),o=A(23),l=A(24),d=A(74),u=A(37),j=(A(170),A(6));var b=function(e){var t={};return e.keys().forEach((function(A){t[A.replace("./","").replace(/\.[^/.]+$/,"")]=e(A)})),t}(A(241)),p=A(164);p.a.initializeApp({apiKey:"AIzaSyAcBmvPhJ0uJjEyeTZRiGC_fsTF8GDCRSA",authDomain:"mm-tracker-760cf.firebaseapp.com",projectId:"mm-tracker-760cf",storageBucket:"mm-tracker-760cf.appspot.com",messagingSenderId:"692582051190",appId:"1:692582051190:web:0d71918a4278a62657de57"});var f=p.a.firestore();f.enablePersistence().catch((function(e){console.error(e)}));var h=f,O=A(404),g=A(407),x=A(106),m=A(58),v=A(9),y=O.a.Meta,k=g.a.Content,w=g.a.Footer;var M=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),A=t[0],n=t[1];return Object(c.useEffect)((function(){var e=[];h.collection("gmk").orderBy("count","desc").limit(8).get().then((function(t){t.forEach((function(t){e.push([t.id,t.data().count])})),n(e)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)(k,{children:[Object(v.jsx)("div",{className:"graph",style:{padding:10,paddingTop:20},children:Object(v.jsx)("p",{className:"section-header",style:{margin:0},children:"Popular Sets"})}),Object(v.jsx)("div",{className:"site-card-wrapper",style:{margin:20},children:Object(v.jsx)(x.a,{gutter:16,children:A.map((function(e){var t=Object(j.a)(e,2),A=t[0],c=t[1],n=A.split(" ")[1];return Object(v.jsx)(m.a,{span:6,style:{padding:10,paddingTop:0,paddingBottom:20},children:Object(v.jsx)(d.b,{to:"/products/"+n+"/",children:Object(v.jsx)(O.a,{hoverable:!0,cover:Object(v.jsx)("img",{alt:"example",src:n in b?b[n].default:b.no_image.default}),style:{textAlign:"center"},children:Object(v.jsx)(y,{title:"GMK "+n.charAt(0).toUpperCase()+n.slice(1),description:"Sales: "+c})})},A)},A)}))})})]}),Object(v.jsxs)(w,{style:{textAlign:"center"},children:["Created by ",Object(v.jsx)("a",{href:"https://www.aaryan.dev",children:"Aaryan Agrawal"}),", ",Object(v.jsx)("a",{href:"https://github.com/DanielLiCodes",children:"Daniel Li"}),", and ",Object(v.jsx)("a",{href:"https://github.com/wesleyliu728",children:"Wesley Liu"})]})]})},S=A(25),D=A(399),E=A(403),N=A(226),q=A(227),K=A(119),F=A(116),B=A(229),R=A(220),P=A(212),U=A.p+"static/media/thinking.955ba4dc.png",V=["base","bundle","single","other"],C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],z=[2020,1],I=[2021,12],T=new Date(z[0],z[1]-1,1,0,0,0,0),H=new Date(I[0],I[1]-1,1,0,0,0,0);function L(e,t,A){return A?e.sort((function(e,A){return e[t]<A[t]?-1:e[t]>A[t]?1:0})):e.sort((function(e,A){return A[t]<e[t]?-1:A[t]>e[t]?1:0}))}function G(e){var t=new Date(e);return C[t.getMonth()]+" "+t.getFullYear()}function W(e){var t=Object(c.useState)(["not mounted"]),A=Object(j.a)(t,2),n=A[0],a=A[1];Object(c.useEffect)((function(){var t=[];h.collection("gmk").get().then((function(A){A.forEach((function(e){t.push(e.id)}));var c=new P.a(t,{includeScore:!0,threshold:.3}).search(e.data.productID),n=[];c.forEach((function(e){var t=e.item.split(" ")[1];t&&n.push(t)})),a(n.slice(0,10))}))}),[e.data.productID]);var r=e.data.productID,i=[];return 0===n.length?i.push(Object(v.jsx)("p",{style:{fontSize:20},children:"No similarly named sets were found."},"none")):"not mounted"!==n[0]&&(i.push(Object(v.jsx)("p",{style:{fontSize:20},children:"Did you mean one of the following?"},"meant")),n.forEach((function(e){i.push(Object(v.jsx)(d.b,{to:"/products/"+e+"/",children:Object(v.jsxs)("p",{style:{fontSize:20,margin:0},children:["GMK ",e.charAt(0).toUpperCase()+e.slice(1)]})},e))}))),Object(v.jsxs)("div",{className:"graph",style:{padding:20},children:[Object(v.jsx)("img",{src:U,alt:"thinking emote",style:{padding:20}}),Object(v.jsxs)("p",{style:{margin:0,fontSize:20},children:["No data was found for for ",Object(v.jsxs)("span",{style:{fontWeight:"bold"},children:[" GMK ",r.charAt(0).toUpperCase()+r.slice(1)]})]}),i]})}function X(){var e=Object(u.h)().productID;"gmk"===(e=e.toLowerCase()).split(" ")[0]&&(e=e.split(" ")[1]),e.split(" ").length>1&&(e=e.split(" ")[0]);var t=function(){var e=Object(c.useRef)(!0);return Object(c.useEffect)((function(){e.current=!1}),[]),e.current}(),A="gmk "+e,a=Object(c.useState)([]),r=Object(j.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)([]),l=Object(j.a)(o,2),d=l[0],b=l[1],p=Object(c.useState)({start:T,end:H}),f=Object(j.a)(p,2),O=f[0],g=f[1],x=Object(c.useState)([].concat(V)),m=Object(j.a)(x,2),y=m[0],k=m[1],w=Object(c.useState)(["date",!0]),M=Object(j.a)(w,2),P=M[0],U=M[1],C=Object(c.useState)(""),X=Object(j.a)(C,2),Z=X[0],J=X[1],Q=Object(c.useState)(""),Y=Object(j.a)(Q,2),_=Y[0],$=Y[1],ee=Object(c.useState)(T),te=Object(j.a)(ee,2),Ae=te[0],ce=te[1],ne=Object(c.useState)(H),ae=Object(j.a)(ne,2),re=ae[0],ie=ae[1];function se(e){return Object(v.jsx)("th",{onClick:function(){P[0]===e?(s(L(i.slice(),e,!P[1])),U([e,!P[1]])):(U([e,!0]),s(L(i.slice(),e,!0)))},children:e+"  "+(P[0]===e?P[1]?"\u25b2":"\u25bc":"\u21d5")})}return Object(c.useEffect)((function(){h.collection("gmk").doc(A).collection("sales").orderBy("date").get().then((function(e){for(var t={},A=z[0];A<=I[0];A++)for(var c=1;c<=12;c++)A===z[0]&&c<z[1]||A===I[0]&&c>I[1]||(t[[A,c]]={base:[0,0],bundle:[0,0],single:[0,0],other:[0,0]});var n=[];e.forEach((function(e){var A=e.data(),c=A.date.toDate(),a=[c.getFullYear(),c.getMonth()+1];n.push({id:e.id,category:A.category,price:A.price,linkFull:A.link,link:A.link.split("/").slice(-2),date:c,sets:A.sets.join(", ")}),t[a][A.category][0]+=A.price,t[a][A.category][1]++}));var a=[];for(var r in t){var i=r.split(","),o=Object(j.a)(i,2),l=o[0],d=o[1],u={epoch:new Date(l,d-1,1,0,0,0,0).getTime()},p=t[r];for(var f in p){var h=p[f],O=h[0]/h[1];isNaN(O)||(u[f]=Math.round(O),u[f+"_q"]=h[1])}a.push(u)}s(n),b(a)}))}),[A]),t?null:0===i.length?Object(v.jsx)(W,{data:{productID:e}}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"graph",children:[Object(v.jsxs)("p",{style:{padding:20,margin:0,fontSize:20},children:["Showing results for ",Object(v.jsxs)("span",{style:{fontWeight:"bold"},children:[" GMK ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),Object(v.jsxs)(D.a,{width:900,height:400,data:d,onClick:function(e,t){null!==e&&"recharts-dot"!==t.target.className.baseVal&&k([].concat(V))},onMouseDown:function(e){null!==e&&J(e.activeLabel)},onMouseMove:function(e){null!==e&&Z&&$(e.activeLabel)},onMouseUp:function(){return function(){var e=Z,t=_;if(e!==t&&""!==t){if(e>t){var A=[t,e];e=A[0],t=A[1]}var c=new Date(t);c.setMonth(c.getMonth()+1),ce(e),ie(t),J(""),$(""),g({start:e,end:c})}else if(J(""),$(""),""!==e){var n=new Date(e);n.setMonth(n.getMonth()+1),g({start:e,end:n})}}()},children:[Object(v.jsx)(E.a,{strokeDasharray:"3 3"}),Object(v.jsx)(N.a,{dataKey:"epoch",type:"number",scale:"time",padding:{left:25,right:25},interval:0,angle:30,tickMargin:15,height:50,domain:[Ae,re],allowDataOverflow:!0,tickFormatter:G}),Object(v.jsx)(q.a,{label:{value:"Price (USD)",angle:-90,position:"insideLeft"}}),Object(v.jsx)(K.a,{labelFormatter:G,formatter:function(e,t,A){return"$".concat(A.payload[A.dataKey],", ").concat(A.payload[A.dataKey+"_q"]," units")}}),Object(v.jsx)(F.a,{}),Object(v.jsx)(B.a,{type:"linear",dataKey:"base",stroke:"#4053d3",activeDot:{onClick:function(e,t){return k([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"bundle",stroke:"#b51d14",activeDot:{onClick:function(e,t){return k([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"single",stroke:"#00b25d",activeDot:{onClick:function(e,t){return k([t.dataKey])}}}),Object(v.jsx)(B.a,{type:"linear",dataKey:"other",stroke:"#00beff",activeDot:{onClick:function(e,t){return k([t.dataKey])}}}),Z&&_?Object(v.jsx)(R.a,{x1:Z,x2:_,strokeOpacity:.3}):null]})]}),Object(v.jsx)("button",{className:"resetSetButton",onClick:function(){g({start:T,end:H}),k([].concat(V)),ce(T),ie(H)},children:"Reset"}),V.map((function(e){return t=e,Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)("label",{className:"includeSetBox",htmlFor:"chk".concat(t),children:t}),Object(v.jsx)("input",{id:"chk".concat(t.name),type:"checkbox",checked:y.includes(t),onChange:function(e){e.currentTarget.checked?k([].concat(Object(S.a)(y),[t])):k(y.filter((function(e){return e!==t})))},style:{marginLeft:"3px"}})]},t);var t})),Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[se("category"),se("price"),se("link"),se("date"),se("sets")]})}),Object(v.jsx)("tbody",{children:i.map((function(e){return e.date>=O.start&&e.date<=O.end&&y.includes(e.category)?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.price}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:"https://www.reddit.com"+e.linkFull,target:"_blank",rel:"noopener noreferrer",children:e.link})}),Object(v.jsx)("td",{children:e.date.toString()}),Object(v.jsx)("td",{children:e.sets})]},e.id):null}))})]})]})}var Z=function(){var e=Object(u.i)().path;return Object(v.jsx)("div",{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{exact:!0,path:e,children:Object(v.jsx)(u.a,{to:"/"})}),Object(v.jsx)(u.b,{path:"".concat(e,"/:productID"),children:Object(v.jsx)(X,{})})]})})},J=(A(395),A(405).a.Search),Q=g.a.Header;function Y(){var e=Object(u.g)();return Object(v.jsx)(J,{placeholder:"Search GMK prices",onSearch:function(t){e.push("/products/".concat(t))},style:{width:250}})}var _=function(){return Object(v.jsxs)(Q,{className:"nav-bar",children:[Object(v.jsx)(d.b,{to:"/",className:"home-button",children:"GMK Price Tracker"}),Object(v.jsx)(Y,{})]})},$=function(e){Object(o.a)(A,e);var t=Object(l.a)(A);function A(){var e;return Object(i.a)(this,A),(e=t.call(this)).state={},e}return Object(s.a)(A,[{key:"render",value:function(){return Object(v.jsx)(g.a,{className:"layout",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsxs)(u.b,{path:"/products",children:[Object(v.jsx)(_,{}),Object(v.jsx)(Z,{})]}),Object(v.jsxs)(u.b,{path:"/",children:[Object(v.jsx)(_,{}),Object(v.jsx)(M,{})]})]})})})}}]),A}(c.Component),ee=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,409)).then((function(t){var A=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;A(e),c(e),n(e),a(e),r(e)}))};r.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)($,{})}),document.getElementById("root")),ee()}},[[396,1,2]]]);
//# sourceMappingURL=main.adebc1c8.chunk.js.map